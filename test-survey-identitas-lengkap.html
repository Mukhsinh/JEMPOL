<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Form Survei - Identitas Lengkap</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .field-complete { border-color: #10b981 !important; background-color: #d1fae5 !important; }
        .field-incomplete { border-color: #ef4444 !important; }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 min-h-screen p-6">
    <div class="max-w-2xl mx-auto">
        <div class="bg-white rounded-2xl shadow-2xl p-8 mb-6">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">‚úÖ Test Form Survei</h1>
            <p class="text-gray-600 mb-6">Form dengan identitas lengkap dan notifikasi validasi</p>
            
            <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-lg mb-6">
                <h3 class="font-bold text-blue-800 mb-2">üìã Checklist Field Identitas:</h3>
                <ul class="space-y-2 text-sm">
                    <li id="check-nama" class="flex items-center gap-2">
                        <span class="w-5 h-5 rounded-full bg-gray-300 flex items-center justify-center text-white text-xs">‚úó</span>
                        <span>Nama Lengkap</span>
                    </li>
                    <li id="check-hp" class="flex items-center gap-2">
                        <span class="w-5 h-5 rounded-full bg-gray-300 flex items-center justify-center text-white text-xs">‚úó</span>
                        <span>Nomor HP (min 10 digit)</span>
                    </li>
                    <li id="check-usia" class="flex items-center gap-2">
                        <span class="w-5 h-5 rounded-full bg-gray-300 flex items-center justify-center text-white text-xs">‚úó</span>
                        <span>Usia</span>
                    </li>
                    <li id="check-gender" class="flex items-center gap-2">
                        <span class="w-5 h-5 rounded-full bg-gray-300 flex items-center justify-center text-white text-xs">‚úó</span>
                        <span>Jenis Kelamin</span>
                    </li>
                    <li id="check-pendidikan" class="flex items-center gap-2">
                        <span class="w-5 h-5 rounded-full bg-gray-300 flex items-center justify-center text-white text-xs">‚úó</span>
                        <span>Pendidikan</span>
                    </li>
                    <li id="check-pekerjaan" class="flex items-center gap-2">
                        <span class="w-5 h-5 rounded-full bg-gray-300 flex items-center justify-center text-white text-xs">‚úó</span>
                        <span>Pekerjaan</span>
                    </li>
                    <li id="check-alamat" class="flex items-center gap-2">
                        <span class="w-5 h-5 rounded-full bg-gray-300 flex items-center justify-center text-white text-xs">‚úó</span>
                        <span>Alamat Lengkap</span>
                    </li>
                </ul>
            </div>

            <form id="surveyForm" class="space-y-6">
                <!-- Nama -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        Nama Lengkap <span class="text-red-500">*</span>
                    </label>
                    <input 
                        type="text" 
                        id="nama"
                        class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-blue-500 focus:ring-0"
                        placeholder="Masukkan nama lengkap"
                    />
                </div>

                <!-- HP -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        Nomor HP (WhatsApp) <span class="text-red-500">*</span>
                    </label>
                    <input 
                        type="tel" 
                        id="hp"
                        class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-blue-500 focus:ring-0"
                        placeholder="08xxxxxxxxxx"
                    />
                </div>

                <!-- Usia -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        Usia <span class="text-red-500">*</span>
                    </label>
                    <select 
                        id="usia"
                        class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-blue-500 focus:ring-0"
                    >
                        <option value="">Pilih Rentang Usia</option>
                        <option value="<20">Kurang dari 20 tahun</option>
                        <option value="20-30">20-30 tahun</option>
                        <option value="31-40">31-40 tahun</option>
                        <option value="41-50">41-50 tahun</option>
                        <option value="51-60">51-60 tahun</option>
                        <option value=">60">Lebih dari 60 tahun</option>
                    </select>
                </div>

                <!-- Jenis Kelamin -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        Jenis Kelamin <span class="text-red-500">*</span>
                    </label>
                    <div class="grid grid-cols-2 gap-3">
                        <label class="cursor-pointer">
                            <input type="radio" name="gender" value="Laki-laki" class="sr-only peer" />
                            <div class="px-4 py-3 rounded-xl border-2 border-gray-200 text-center peer-checked:bg-blue-50 peer-checked:border-blue-500">
                                üë® Laki-laki
                            </div>
                        </label>
                        <label class="cursor-pointer">
                            <input type="radio" name="gender" value="Perempuan" class="sr-only peer" />
                            <div class="px-4 py-3 rounded-xl border-2 border-gray-200 text-center peer-checked:bg-pink-50 peer-checked:border-pink-500">
                                üë© Perempuan
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Pendidikan -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        Pendidikan Terakhir <span class="text-red-500">*</span>
                    </label>
                    <select 
                        id="pendidikan"
                        class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-blue-500 focus:ring-0"
                    >
                        <option value="">Pilih Pendidikan</option>
                        <option value="SD">SD</option>
                        <option value="SMP">SMP</option>
                        <option value="SMA/SMK">SMA/SMK</option>
                        <option value="D3">D3</option>
                        <option value="S1">S1</option>
                        <option value="S2">S2</option>
                        <option value="S3">S3</option>
                    </select>
                </div>

                <!-- Pekerjaan -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        Pekerjaan <span class="text-red-500">*</span>
                    </label>
                    <select 
                        id="pekerjaan"
                        class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-blue-500 focus:ring-0"
                    >
                        <option value="">Pilih Pekerjaan</option>
                        <option value="PNS">PNS</option>
                        <option value="TNI/Polri">TNI/Polri</option>
                        <option value="Pegawai Swasta">Pegawai Swasta</option>
                        <option value="Wiraswasta">Wiraswasta</option>
                        <option value="Pelajar/Mahasiswa">Pelajar/Mahasiswa</option>
                        <option value="Ibu Rumah Tangga">Ibu Rumah Tangga</option>
                        <option value="Pensiunan">Pensiunan</option>
                        <option value="Lainnya">Lainnya</option>
                    </select>
                </div>

                <!-- Alamat -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        Alamat Lengkap <span class="text-red-500">*</span>
                    </label>
                    <textarea 
                        id="alamat"
                        rows="3"
                        class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-blue-500 focus:ring-0 resize-none"
                        placeholder="Masukkan alamat lengkap Anda (Jalan, RT/RW, Kelurahan, Kecamatan, Kota)"
                    ></textarea>
                </div>

                <!-- Notifikasi Error -->
                <div id="errorNotif" class="hidden bg-red-50 border-l-4 border-red-500 p-4 rounded-lg">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <span class="text-red-500 text-2xl">‚ö†Ô∏è</span>
                        </div>
                        <div class="ml-3 flex-1">
                            <h3 class="text-sm font-bold text-red-800 mb-2">Data Belum Lengkap!</h3>
                            <ul id="errorList" class="list-disc list-inside space-y-1 text-sm text-red-700">
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Tombol Submit -->
                <button 
                    type="button"
                    onclick="validateForm()"
                    class="w-full py-4 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-bold rounded-2xl shadow-lg hover:shadow-xl transition-all"
                >
                    Validasi & Lanjutkan ‚Üí
                </button>
            </form>
        </div>

        <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-lg">
            <h3 class="font-bold text-green-800 mb-2">‚úÖ Fitur yang Sudah Diperbaiki:</h3>
            <ul class="text-sm text-green-700 space-y-1">
                <li>‚úì Notifikasi jika ada field yang belum diisi</li>
                <li>‚úì Field identitas lengkap (7 field wajib)</li>
                <li>‚úì Validasi real-time dengan checklist</li>
                <li>‚úì Integrasi dengan backend</li>
            </ul>
        </div>
    </div>

    <script>
        const fields = {
            nama: document.getElementById('nama'),
            hp: document.getElementById('hp'),
            usia: document.getElementById('usia'),
            gender: document.getElementsByName('gender'),
            pendidikan: document.getElementById('pendidikan'),
            pekerjaan: document.getElementById('pekerjaan'),
            alamat: document.getElementById('alamat')
        };

        function updateChecklist(field, isValid) {
            const checkItem = document.getElementById('check-' + field);
            const icon = checkItem.querySelector('span');
            if (isValid) {
                icon.classList.remove('bg-gray-300');
                icon.classList.add('bg-green-500');
                icon.textContent = '‚úì';
            } else {
                icon.classList.remove('bg-green-500');
                icon.classList.add('bg-gray-300');
                icon.textContent = '‚úó';
            }
        }

        // Real-time validation
        fields.nama.addEventListener('input', () => {
            updateChecklist('nama', fields.nama.value.trim() !== '');
        });

        fields.hp.addEventListener('input', () => {
            updateChecklist('hp', fields.hp.value.length >= 10);
        });

        fields.usia.addEventListener('change', () => {
            updateChecklist('usia', fields.usia.value !== '');
        });

        Array.from(fields.gender).forEach(radio => {
            radio.addEventListener('change', () => {
                updateChecklist('gender', true);
            });
        });

        fields.pendidikan.addEventListener('change', () => {
            updateChecklist('pendidikan', fields.pendidikan.value !== '');
        });

        fields.pekerjaan.addEventListener('change', () => {
            updateChecklist('pekerjaan', fields.pekerjaan.value !== '');
        });

        fields.alamat.addEventListener('input', () => {
            updateChecklist('alamat', fields.alamat.value.trim() !== '');
        });

        function validateForm() {
            const errors = [];
            
            if (!fields.nama.value.trim()) {
                errors.push('Nama lengkap harus diisi');
            }
            if (fields.hp.value.length < 10) {
                errors.push('Nomor HP harus diisi minimal 10 digit');
            }
            if (!fields.usia.value) {
                errors.push('Usia harus diisi');
            }
            
            let genderSelected = false;
            Array.from(fields.gender).forEach(radio => {
                if (radio.checked) genderSelected = true;
            });
            if (!genderSelected) {
                errors.push('Jenis kelamin harus diisi');
            }
            
            if (!fields.pendidikan.value) {
                errors.push('Pendidikan harus diisi');
            }
            if (!fields.pekerjaan.value) {
                errors.push('Pekerjaan harus diisi');
            }
            if (!fields.alamat.value.trim()) {
                errors.push('Alamat harus diisi');
            }

            const errorNotif = document.getElementById('errorNotif');
            const errorList = document.getElementById('errorList');

            if (errors.length > 0) {
                errorList.innerHTML = errors.map(err => `<li>${err}</li>`).join('');
                errorNotif.classList.remove('hidden');
                window.scrollTo({ top: errorNotif.offsetTop - 100, behavior: 'smooth' });
            } else {
                errorNotif.classList.add('hidden');
                alert('‚úÖ Semua data sudah lengkap!\n\nData siap dikirim ke backend.');
            }
        }
    </script>
</body>
</html>
